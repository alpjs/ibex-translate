{"version":3,"sources":["../src/index.js"],"names":[],"mappings":";;;;;kBAWwB,aAAa;;;;;;;;AAJrC,SAAS,OAAO,CAAC,MAAM,EAAE,IAAI,EAAE;AAC3B,WAAO,MAAM,CAAC,OAAO,CAAC,UAAU,EAAE,UAAC,KAAK,EAAE,MAAM;eAAK,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE;KAAA,CAAC,CAAC;CAC1F;;AAEc,SAAS,aAAa,CAAC,OAAO,EAAE;AAC3C,WAAO,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;AACvC,WAAO,UAAA,GAAG,EAAI;AACV,cAAM,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE;AACvB,aAAC,aAAC,MAAM,EAAW;AACf,sBAAM,GAAG,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,MAAM,CAAC;;kDADvC,IAAI;AAAJ,wBAAI;;;AAEb,uBAAO,IAAI,GAAG,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,MAAM,CAAC;aAChD;SACJ,CAAC,CAAC;;AAEH,YAAM,QAAQ,GAAG,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC;AACtC,eAAO,GAAG,CAAC,UAAU,CAAC,OAAO,GAAG,QAAQ,CAAC,CACpC,IAAI,CAAC,UAAA,GAAG;mBAAI,GAAG,CAAC,YAAY,GAAG,GAAG;SAAA,CAAC,CAAC;KAC5C,CAAC;CACL","file":"index.js","sourcesContent":["/**\n * Format a string using {\\d}\n *\n * @param {string} string\n * @param {string[]} args\n * @return {string}\n */\nfunction vformat(string, args) {\n    return string.replace(/{(\\d+)}/g, (match, number) => args[parseInt(number, 10)] || '');\n}\n\nexport default function ibexTranslate(dirname) {\n    dirname = dirname.replace(/\\/*$/, '/');\n    return app => {\n        Object.assign(app.context, {\n            t(string, ...args) {\n                string = app.translations.get(string) || string;\n                return args ? vformat(string, args) : string;\n            },\n        });\n\n        const language = app.context.language;\n        return app.loadConfig(dirname + language)\n            .then(map => app.translations = map);\n    };\n}\n"]}